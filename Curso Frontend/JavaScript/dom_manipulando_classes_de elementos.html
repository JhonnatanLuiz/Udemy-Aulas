<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manipulando Classes de Elementos - DOM</title>
    <style>
        /* Estilos para demonstra√ß√£o */
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .caixa {
            padding: 20px;
            margin: 10px 0;
            border: 2px solid #333;
            background-color: white;
            transition: all 0.3s ease;
        }
        
        .destaque {
            background-color: #ffeb3b;
            border-color: #fbc02d;
            font-weight: bold;
        }
        
        .ativo {
            background-color: #4caf50;
            color: white;
            transform: scale(1.05);
        }
        
        .erro {
            background-color: #f44336;
            color: white;
            border-color: #c62828;
        }
        
        button {
            padding: 10px 20px;
            margin: 5px;
            cursor: pointer;
            border: none;
            background-color: #2196f3;
            color: white;
            border-radius: 4px;
            font-size: 14px;
        }
        
        button:hover {
            background-color: #1976d2;
        }
    </style>
</head>
<body>
    <h1>Manipula√ß√£o de Classes no DOM</h1>
    
    <!-- Elementos para demonstra√ß√£o -->
    <div id="elemento1" class="caixa">Elemento 1</div>
    <div id="elemento2" class="caixa destaque">Elemento 2 (com classe destaque)</div>
    <div id="elemento3" class="caixa">Elemento 3</div>
    
    <hr>
    
    <!-- Bot√µes de controle -->
    <button onclick="exemploAdd()">Adicionar Classe</button>
    <button onclick="exemploRemove()">Remover Classe</button>
    <button onclick="exemploToggle()">Toggle Classe</button>
    <button onclick="exemploReplace()">Substituir Classe</button>
    <button onclick="exemploContains()">Verificar Classe</button>
    
    <script>
        // ========================================
        // MANIPULANDO CLASSES DE ELEMENTOS NO DOM
        // ========================================
        
        // Selecionando elementos para trabalhar
        const elem1 = document.getElementById('elemento1');
        const elem2 = document.getElementById('elemento2');
        const elem3 = document.getElementById('elemento3');
        
        
        // ========================================
        // 1. PROPRIEDADE className
        // ========================================
        // className retorna/define TODAS as classes como uma string
        
        console.log('Classes do elem2:', elem2.className); // "caixa destaque"
        
        // CUIDADO: Sobrescreve TODAS as classes
        // elem2.className = 'nova-classe'; // Remove "caixa" e "destaque"
        
        // Para adicionar sem remover, use concatena√ß√£o (n√£o recomendado)
        // elem2.className = elem2.className + ' outra-classe';
        
        
        // ========================================
        // 2. PROPRIEDADE classList (RECOMENDADO)
        // ========================================
        // classList retorna um objeto DOMTokenList com m√©todos √∫teis
        
        console.log('classList do elem1:', elem1.classList);
        // DOMTokenList ["caixa"] com m√©todos: add, remove, toggle, contains, replace
        
        
        // ========================================
        // 3. M√âTODO add() - Adicionar Classes
        // ========================================
        // Adiciona uma ou mais classes (ignora duplicadas)
        
        function exemploAdd() {
            // Adicionar uma classe
            elem1.classList.add('destaque');
            console.log('‚úÖ Classe "destaque" adicionada ao elemento 1');
            
            // Adicionar m√∫ltiplas classes de uma vez
            elem3.classList.add('ativo', 'destaque');
            console.log('‚úÖ Classes "ativo" e "destaque" adicionadas ao elemento 3');
            
            // N√£o cria duplicata se a classe j√° existe
            elem2.classList.add('destaque'); // N√£o adiciona novamente
        }
        
        
        // ========================================
        // 4. M√âTODO remove() - Remover Classes
        // ========================================
        // Remove uma ou mais classes (n√£o d√° erro se n√£o existir)
        
        function exemploRemove() {
            // Remover uma classe
            elem1.classList.remove('destaque');
            console.log('‚ùå Classe "destaque" removida do elemento 1');
            
            // Remover m√∫ltiplas classes
            elem3.classList.remove('ativo', 'destaque');
            console.log('‚ùå Classes "ativo" e "destaque" removidas do elemento 3');
            
            // N√£o d√° erro se tentar remover classe que n√£o existe
            elem1.classList.remove('classe-inexistente'); // Sem erro
        }
        
        
        // ========================================
        // 5. M√âTODO toggle() - Alternar Classes
        // ========================================
        // Adiciona se n√£o existir, remove se existir
        // Muito usado para bot√µes de ativar/desativar
        
        function exemploToggle() {
            // Toggle simples - inverte o estado
            elem1.classList.toggle('ativo');
            console.log('üîÑ Toggle "ativo" no elemento 1');
            
            // Toggle com m√∫ltiplas classes
            elem2.classList.toggle('erro');
            elem3.classList.toggle('destaque');
            
            // Toggle com segundo par√¢metro (for√ßa adicionar ou remover)
            const deveTerClasse = true;
            elem1.classList.toggle('destaque', deveTerClasse); // For√ßa adicionar
            
            // Retorna true se adicionou, false se removeu
            const foiAdicionada = elem2.classList.toggle('ativo');
            console.log('Foi adicionada?', foiAdicionada);
        }
        
        
        // ========================================
        // 6. M√âTODO contains() - Verificar Classes
        // ========================================
        // Retorna true se o elemento tem a classe, false caso contr√°rio
        
        function exemploContains() {
            // Verificar se tem uma classe
            const temDestaque = elem2.classList.contains('destaque');
            console.log('Elem2 tem classe "destaque"?', temDestaque);
            
            // Usar em condicionais
            if (elem1.classList.contains('ativo')) {
                console.log('‚úÖ Elemento 1 est√° ativo');
            } else {
                console.log('‚ùå Elemento 1 N√ÉO est√° ativo');
            }
            
            // √ötil para verificar estado antes de adicionar/remover
            if (!elem3.classList.contains('erro')) {
                elem3.classList.add('erro');
                console.log('‚ûï Classe "erro" adicionada ao elemento 3');
            }
        }
        
        
        // ========================================
        // 7. M√âTODO replace() - Substituir Classes
        // ========================================
        // Substitui uma classe por outra (retorna true se conseguiu)
        
        function exemploReplace() {
            // Substitui "destaque" por "erro"
            const sucesso = elem2.classList.replace('destaque', 'erro');
            
            if (sucesso) {
                console.log('üîÅ Classe "destaque" substitu√≠da por "erro"');
            } else {
                console.log('‚ö†Ô∏è Classe "destaque" n√£o encontrada');
            }
            
            // √ötil para trocar estados
            // elem1.classList.replace('inativo', 'ativo');
        }
        
        
        // ========================================
        // 8. PROPRIEDADES √öTEIS do classList
        // ========================================
        
        // length - n√∫mero de classes
        console.log('N√∫mero de classes do elem2:', elem2.classList.length);
        
        // value - string com todas as classes (igual className)
        console.log('Classes como string:', elem2.classList.value);
        
        // Acessar classe por √≠ndice (como array)
        console.log('Primeira classe do elem2:', elem2.classList[0]);
        console.log('Segunda classe do elem2:', elem2.classList[1]);
        
        
        // ========================================
        // 9. ITERA√á√ÉO - Percorrer Classes
        // ========================================
        
        // Usando forEach (mais moderno)
        elem2.classList.forEach((classe, index) => {
            console.log(`Classe ${index}: ${classe}`);
        });
        
        // Usando for...of
        for (const classe of elem2.classList) {
            console.log('Classe encontrada:', classe);
        }
        
        // Usando for tradicional
        for (let i = 0; i < elem2.classList.length; i++) {
            console.log(`√çndice ${i}: ${elem2.classList[i]}`);
        }
        
        
        // ========================================
        // 10. CASOS DE USO PR√ÅTICOS
        // ========================================
        
        // Exemplo 1: Sistema de tabs/abas
        function ativarTab(tabClicada) {
            // Remove "ativo" de todas as tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('ativo');
            });
            
            // Adiciona "ativo" apenas na clicada
            tabClicada.classList.add('ativo');
        }
        
        // Exemplo 2: Dark mode toggle
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
            
            // Salvar prefer√™ncia
            const isDark = document.body.classList.contains('dark-mode');
            localStorage.setItem('darkMode', isDark);
        }
        
        // Exemplo 3: Menu mobile (hamburguer)
        function toggleMenu() {
            const menu = document.getElementById('menu');
            const botao = document.getElementById('botao-menu');
            
            menu.classList.toggle('aberto');
            botao.classList.toggle('ativo');
            
            // Adicionar classe no body para prevenir scroll
            document.body.classList.toggle('menu-aberto');
        }
        
        // Exemplo 4: Valida√ß√£o de formul√°rio
        function validarCampo(input) {
            input.classList.remove('sucesso', 'erro'); // Limpa estados anteriores
            
            if (input.value.trim() === '') {
                input.classList.add('erro');
            } else {
                input.classList.add('sucesso');
            }
        }
        
        // Exemplo 5: Loading/carregamento
        function mostrarLoading() {
            document.body.classList.add('loading');
        }
        
        function esconderLoading() {
            document.body.classList.remove('loading');
        }
        
        
        // ========================================
        // 11. COMPARA√á√ÉO: className vs classList
        // ========================================
        
        // ‚ùå RUIM - usando className
        // elem1.className = elem1.className + ' nova-classe'; // Pode ter espa√ßos duplos
        // elem1.className = elem1.className.replace('antiga', 'nova'); // Dif√≠cil e propenso a erros
        
        // ‚úÖ BOM - usando classList
        // elem1.classList.add('nova-classe'); // Simples e seguro
        // elem1.classList.replace('antiga', 'nova'); // M√©todo espec√≠fico
        
        
        // ========================================
        // 12. COMPATIBILIDADE E SUPORTE
        // ========================================
        
        // classList √© suportado em todos os navegadores modernos
        // IE 10+, Chrome, Firefox, Safari, Edge
        
        // Para IE 9 ou anterior, use polyfill ou className
        
        
        // ========================================
        // 13. DICAS E BOAS PR√ÅTICAS
        // ========================================
        
        // ‚úÖ Use classList em vez de className (mais seguro e leg√≠vel)
        // ‚úÖ Evite manipular atributo class diretamente com setAttribute
        // ‚úÖ Use toggle() para estados liga/desliga
        // ‚úÖ Use contains() antes de add() se quiser evitar duplicatas (j√° √© autom√°tico)
        // ‚úÖ Remova classes antigas antes de adicionar novas em estados exclusivos
        // ‚úÖ Use nomes de classes sem√¢nticos (ex: 'ativo', 'selecionado', 'erro')
        // ‚ùå N√£o use espa√ßos nos nomes de classes
        // ‚ùå N√£o modifique classList em loop sem necessidade (performance)
        
        
        // ========================================
        // RESUMO DOS M√âTODOS
        // ========================================
        /*
         * classList.add('classe1', 'classe2')       - Adiciona classes
         * classList.remove('classe1', 'classe2')    - Remove classes
         * classList.toggle('classe')                - Alterna classe (add/remove)
         * classList.toggle('classe', boolean)       - For√ßa add (true) ou remove (false)
         * classList.contains('classe')              - Verifica se tem a classe
         * classList.replace('antiga', 'nova')       - Substitui uma classe por outra
         * classList.length                          - N√∫mero de classes
         * classList.value                           - String com todas as classes
         * classList[index]                          - Acessa classe por √≠ndice
         */
        
        console.log('üìö Arquivo carregado! Use os bot√µes para testar as funcionalidades.');
    </script>
</body>
</html>